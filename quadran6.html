<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Choisir votre formation CK Labs</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: transparent;
      padding: 0;
      overflow-x: hidden;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 40px 20px 0;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      align-items: stretch;
    }

    /* Cartes gauche/droite alignées */
    .quadran-section,
    .info-section {
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.08);
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .quadran-header {
      margin-bottom: 30px;
    }

    .quadran-header h1 {
      color: #1d3759;
      font-size: 28px;
      margin-bottom: 10px;
      font-weight: 700;
    }

    .quadran-header p {
      color: #666;
      font-size: 16px;
      line-height: 1.5;
    }

    .quadran-wrapper {
      position: relative;
      width: 100%;
      max-width: 600px;
      aspect-ratio: 1;
      margin: 0 auto 30px;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: inset 0 2px 8px rgba(0,0,0,0.05);
    }

    #quadranCanvas {
      width: 100%;
      height: 100%;
      cursor: crosshair;
      display: block;
    }

    .controls {
      display: flex;
      gap: 15px;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
    }

    .btn {
      padding: 12px 28px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .btn-reset { background: #f0f0f0; color: #666; }
    .btn-reset:hover { background: #e0e0e0; }

    .btn-validate {
      background: #1d3759;
      color: white;
      box-shadow: 0 4px 12px rgba(29,55,89,0.3);
    }

    .btn-validate:hover {
      background: #2d4a6f;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(29,55,89,0.4);
    }

    .coordinates {
      color: #666;
      font-size: 14px;
      font-weight: 600;
    }

    /* Colonne de droite structurée */
    .info-section-blocks {
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .info-section h2 {
      color: #1d3759;
      font-size: 24px;
      font-weight: 700;
    }

    .info-section p {
      color: #666;
      font-size: 16px;
      line-height: 1.6;
    }

    .info-section strong { color: #1d3759; }

    .info-section ul {
      list-style: none;
      margin: 10px 0 0;
      padding: 0;
    }

    .info-section li {
      color: #666;
      font-size: 16px;
      line-height: 1.8;
      padding-left: 25px;
      position: relative;
      margin-bottom: 6px;
    }

    .info-section li::before {
      content: "•";
      color: #1d3759;
      font-weight: bold;
      font-size: 20px;
      position: absolute;
      left: 0;
      top: 0;
    }

    .info-section-footer {
      margin-top: auto;
      padding-top: 20px;
      border-top: 1px solid #f0f0f0;
      font-size: 14px;
      color: #888;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.7);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .modal.active { display: flex; }

    .modal-content {
      background: white;
      border-radius: 20px;
      padding: 50px;
      max-width: 600px;
      width: 100%;
      text-align: center;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      animation: modalSlideIn 0.3s ease;
    }

    @keyframes modalSlideIn {
      from { opacity: 0; transform: translateY(30px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .modal-content h2 {
      color: #1d3759;
      font-size: 32px;
      margin-bottom: 20px;
      font-weight: 700;
    }

    .formation-badge {
      display: inline-block;
      padding: 12px 24px;
      border-radius: 30px;
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 25px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .badge-f0 {
      background: linear-gradient(135deg, #E0ECFF 0%, #B2C9FF 100%);
      color: #1d3759;
    }

    .badge-f1 {
      background: linear-gradient(135deg, #4a90e2 0%, #6bb6ff 100%);
      color: white;
    }

    .badge-f2 {
      background: linear-gradient(135deg, #FFD700 0%, #FFF4A3 100%);
      color: #333;
    }

    .modal-content p {
      color: #666;
      font-size: 18px;
      line-height: 1.6;
      margin-bottom: 30px;
    }

    .btn-formation,
    .btn-close {
      display: inline-block;
      padding: 16px 40px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      font-size: 18px;
      transition: all 0.2s ease;
    }

    .btn-formation {
      background: #1d3759;
      color: white;
      margin-right: 15px;
      box-shadow: 0 4px 12px rgba(29,55,89,0.3);
    }

    .btn-formation:hover {
      background: #2d4a6f;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(29,55,89,0.4);
    }

    .btn-close {
      background: #f0f0f0;
      color: #666;
      border: none;
      cursor: pointer;
    }

    .btn-close:hover { background: #e0e0e0; }

    @media (max-width: 1024px) {
      .container { grid-template-columns: 1fr; gap: 30px; }
    }

    @media (max-width: 768px) {
      .container { padding: 20px 15px 15px; }
      .quadran-section,
      .info-section { padding: 25px; }
      .quadran-header h1 { font-size: 24px; }
      .modal-content { padding: 30px 25px; }
      .modal-content h2 { font-size: 24px; }
      .btn-formation,
      .btn-close { display: block; margin: 10px 0; }
    }
  </style>
</head>
<body>

  <div class="container">
    <!-- Gauche : cadran -->
    <div class="quadran-section">
      <div class="quadran-header">
        <h1>En 1 minute, trouvez la bonne formation CK Labs</h1>
        <p>
          Placez-vous dans le cadran selon votre niveau en data et votre objectif de carrière. 
          On vous oriente ensuite vers <strong>Free Sunday (F0)</strong>, <strong>KickStarter (F1)</strong> 
          ou <strong>JetPack (F2)</strong> comme prochaine étape logique.
        </p>
      </div>

      <div class="quadran-wrapper">
        <canvas id="quadranCanvas"></canvas>
      </div>

      <div class="controls">
        <button class="btn btn-reset" onclick="resetCursor()">Réinitialiser</button>
        <button class="btn btn-validate" onclick="validatePosition()">Valider</button>
        <div class="coordinates" id="coordinates">X: 50% • Y: 50%</div>
      </div>
    </div>

    <!-- Droite : explications parcours -->
    <div class="info-section">
      <div class="info-section-blocks">
        <h2>Free Sunday → KickStarter → JetPack : votre progression</h2>

        <p>
          CK Labs est pensé comme un <strong>parcours</strong> et pas comme un catalogue de cours.
          L’idée : vous faire passer d’un Excel manuel à un profil <strong>Data × Business</strong> solide,
          clair pour la direction et difficile à remplacer.
        </p>

        <p><strong>Comment lire le cadran ?</strong></p>
        <ul>
          <li>
            <strong>Vertical :</strong> en haut, vous cherchez surtout à 
            <strong>évoluer en entreprise</strong> (promo, nouveau poste).  
            En bas, vous vous projetez davantage vers <strong>l’indépendance</strong> 
            (freelance, side business, consulting).
          </li>
          <li>
            <strong>Horizontal :</strong> à gauche, vos <strong>skills data</strong> 
            sont encore en construction. À droite, vous avez déjà une base technique
            et vous voulez la muscler.
          </li>
          <li>
            Plus vous descendez vers la droite, plus vous visez un profil 
            <strong>Data × Business “arme lourde”</strong> capable d’attaquer SQL
            et des dashboards avancés.
          </li>
        </ul>

        <p><strong>Votre trajectoire type :</strong></p>
        <ul>
          <li>
            <strong>F0 – Free Sunday :</strong> poser les bases, comprendre le 
            <strong>piège Excel</strong>, automatiser un premier reporting et tester la pédagogie
            sans pression.
          </li>
          <li>
            <strong>F1 – KickStarter :</strong> vous faites déjà des reportings Excel et vous voulez
            un système simple qui se met à jour tout seul avec Looker Studio.  
            Objectif : <strong>gagner 2 à 4h par semaine</strong> et arrêter de bricoler.
          </li>
          <li>
            <strong>F2 – JetPack :</strong> vous gérez déjà beaucoup de chiffres (P&amp;L, performance, marketing…)
            et vous voulez structurer toute votre perf avec <strong>SQL + dashboards avancés</strong> pour devenir
            vraiment autonome sur vos données.
          </li>
        </ul>

        <p>
          À chaque étape, vous ne gagnez pas seulement du temps : vous construisez un 
          <strong>mindset analytique robuste, industrialisable et imbattable</strong> pour la suite de votre carrière.
        </p>
      </div>

      <div class="info-section-footer">
        Tip : si vous hésitez entre deux cadrans, commencez par la formation la plus simple.  
        Un système qui tourne vaut mieux qu’un “setup parfait” jamais terminé.
      </div>
    </div>
  </div>

  <!-- Modal résultat -->
  <div class="modal" id="resultModal">
    <div class="modal-content">
      <h2>Votre prochaine étape recommandée</h2>
      <div id="modalBadge"></div>
      <p id="modalDescription"></p>
      <a href="#" id="modalLink" class="btn-formation" target="_blank" rel="noopener">
        Découvrir la formation
      </a>
      <button class="btn-close" onclick="closeModal()">Fermer</button>
    </div>
  </div>

  <script>
    // CONFIG F0 / F1 / F2 + UTM
    const FORMATIONS = {
      f0: {
        name: "Free Sunday",
        badgeClass: "badge-f0",
        label: "F0 – Free Sunday",
        description:
          "Vous démarrez ou voulez tester la pédagogie CK Labs. Commencez par automatiser un premier reporting et comprendre pourquoi Excel devient un piège.",
        url: "https://www.cklabs.io/course/automatiser-sa-scorecard?utm_source=cklabs&utm_medium=quadran&utm_campaign=choisir_formation&utm_content=f0_free_sunday"
      },
      f1: {
        name: "KickStarter",
        badgeClass: "badge-f1",
        label: "F1 – KickStarter",
        description:
          "Vous faites déjà des reportings Excel. KickStarter vous aide à passer sur Looker Studio avec un système 100 % automatisé et un vrai socle analytique.",
        url: "https://www.cklabs.io/course/lookerstudio?utm_source=cklabs&utm_medium=quadran&utm_campaign=choisir_formation&utm_content=f1_kickstarter"
      },
      f2: {
        name: "JetPack",
        badgeClass: "badge-f2",
        label: "F2 – JetPack",
        description:
          "Vous gérez déjà beaucoup de chiffres. JetPack vous donne SQL + dashboards avancés pour structurer toute la chaîne de performance.",
        url: "https://www.cklabs.io/course/data-jetpack?utm_source=cklabs&utm_medium=quadran&utm_campaign=choisir_formation&utm_content=f2_jetpack"
      }
    };

    const COLORS = {
      ck_blue: "#1d3759",
      f0: "#E0ECFF",
      f1: "#4a90e2",
      f2: "#FFD700"
    };

    const canvas = document.getElementById("quadranCanvas");
    const ctx = canvas.getContext("2d");
    let cursorPos = { x: 0.5, y: 0.5 };
    let isDragging = false;

    function setupCanvas() {
      const rect = canvas.getBoundingClientRect();
      canvas.width  = rect.width * window.devicePixelRatio;
      canvas.height = rect.height * window.devicePixelRatio;
      ctx.setTransform(window.devicePixelRatio, 0, 0, window.devicePixelRatio, 0, 0);
      drawQuadran();
    }

    function hexToRgb(hex) {
      const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
      return result
        ? {
            r: parseInt(result[1], 16),
            g: parseInt(result[2], 16),
            b: parseInt(result[3], 16)
          }
        : null;
    }

    function getGradientColor(x, y) {
      let targetColor;
      if (x < 0.33)      targetColor = COLORS.f0;
      else if (x < 0.66) targetColor = COLORS.f1;
      else               targetColor = COLORS.f2;

      const ckBlue  = hexToRgb(COLORS.ck_blue);
      const target  = hexToRgb(targetColor);
      const blueRatio = y * 0.5;

      const r = Math.round(ckBlue.r * blueRatio + target.r * (1 - blueRatio));
      const g = Math.round(ckBlue.g * blueRatio + target.g * (1 - blueRatio));
      const b = Math.round(ckBlue.b * blueRatio + target.b * (1 - blueRatio));
      return `rgb(${r}, ${g}, ${b})`;
    }

    function drawQuadran() {
      const rect = canvas.getBoundingClientRect();
      const w = rect.width;
      const h = rect.height;

      ctx.clearRect(0, 0, w, h);

      const gradient = ctx.createRadialGradient(
        cursorPos.x * w, cursorPos.y * h, 0,
        cursorPos.x * w, cursorPos.y * h, w * 0.8
      );
      const centerColor = getGradientColor(cursorPos.x, cursorPos.y);
      gradient.addColorStop(0, centerColor);
      gradient.addColorStop(1, "#f5f7fa");

      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, w, h);

      drawCKLogo(w, h);
      drawAxes(w, h);
      drawLabels(w, h);
      drawCursor(w, h);
    }

    function drawCKLogo(w, h) {
      ctx.save();
      ctx.globalAlpha = 0.05;
      ctx.font = `bold ${w * 0.4}px Arial`;
      ctx.fillStyle = COLORS.ck_blue;
      ctx.textAlign = "center";
      ctx.textBaseline = "middle";
      ctx.fillText("CK", w / 2, h / 2);
      ctx.restore();
    }

    function drawAxes(w, h) {
      ctx.strokeStyle = "#d0d0d0";
      ctx.lineWidth = 2;

      ctx.beginPath();
      ctx.moveTo(w / 2, 0);
      ctx.lineTo(w / 2, h);
      ctx.stroke();

      ctx.beginPath();
      ctx.moveTo(0, h / 2);
      ctx.lineTo(w, h / 2);
      ctx.stroke();
    }

    function drawLabels(w, h) {
      ctx.fillStyle = COLORS.ck_blue;
      ctx.font = "bold 14px sans-serif";
      ctx.textAlign = "center";

      ctx.fillText("Évoluer en entreprise", w / 2, 20);
      ctx.fillText("Devenir indépendant",   w / 2, h - 10);

      ctx.save();
      ctx.translate(15, h / 2);
      ctx.rotate(-Math.PI / 2);
      ctx.fillText("Débutant", 0, 0);
      ctx.restore();

      ctx.save();
      ctx.translate(w - 15, h / 2);
      ctx.rotate(Math.PI / 2);
      ctx.fillText("Expert", 0, 0);
      ctx.restore();

      ctx.font = "12px sans-serif";
      ctx.fillStyle = "#999";
      ctx.fillText("Skills data / analytics", w / 2, h / 2 - 10);
    }

    function drawCursor(w, h) {
      const x = cursorPos.x * w;
      const y = cursorPos.y * h;

      ctx.beginPath();
      ctx.arc(x, y, 12, 0, Math.PI * 2);
      ctx.fillStyle = COLORS.ck_blue;
      ctx.fill();

      ctx.beginPath();
      ctx.arc(x, y, 8, 0, Math.PI * 2);
      ctx.fillStyle = "white";
      ctx.fill();

      ctx.beginPath();
      ctx.arc(x, y, 3, 0, Math.PI * 2);
      ctx.fillStyle = COLORS.ck_blue;
      ctx.fill();
    }

    function startDrag(e) {
      isDragging = true;
      updateCursorPosition(e);
    }

    function drag(e) {
      if (!isDragging) return;
      updateCursorPosition(e);
    }

    function endDrag() {
      isDragging = false;
    }

    function updateCursorPosition(e) {
      e.preventDefault();
      const rect = canvas.getBoundingClientRect();
      const clientX = e.touches ? e.touches[0].clientX : e.clientX;
      const clientY = e.touches ? e.touches[0].clientY : e.clientY;

      cursorPos.x = Math.max(0, Math.min(1, (clientX - rect.left) / rect.width));
      cursorPos.y = Math.max(0, Math.min(1, (clientY - rect.top) / rect.height));

      drawQuadran();
      updateCoordinates();
    }

    function updateCoordinates() {
      const xPercent = Math.round(cursorPos.x * 100);
      const yPercent = Math.round((1 - cursorPos.y) * 100);
      document.getElementById("coordinates").textContent =
        `X: ${xPercent}% • Y: ${yPercent}%`;
    }

    function resetCursor() {
      cursorPos = { x: 0.5, y: 0.5 };
      drawQuadran();
      updateCoordinates();
    }

    function validatePosition() {
      const x = cursorPos.x;
      let formation;
      if (x < 0.33)      formation = FORMATIONS.f0;
      else if (x < 0.66) formation = FORMATIONS.f1;
      else               formation = FORMATIONS.f2;
      showResult(formation);
    }

    function showResult(formation) {
      const modal       = document.getElementById("resultModal");
      const badge       = document.getElementById("modalBadge");
      const description = document.getElementById("modalDescription");
      const link        = document.getElementById("modalLink");

      badge.innerHTML =
        `<div class="formation-badge ${formation.badgeClass}">${formation.label}</div>`;
      description.textContent = formation.description;
      link.href = formation.url;

      modal.classList.add("active");
    }

    function closeModal() {
      document.getElementById("resultModal").classList.remove("active");
    }

    document.getElementById("resultModal").addEventListener("click", function(e) {
      if (e.target === this) closeModal();
    });

    window.addEventListener("load", () => {
      setupCanvas();
      updateCoordinates();
    });

    window.addEventListener("resize", () => {
      setupCanvas();
    });

    canvas.addEventListener("mousedown", startDrag);
    canvas.addEventListener("mousemove", drag);
    canvas.addEventListener("mouseup", endDrag);
    canvas.addEventListener("mouseleave", endDrag);

    canvas.addEventListener("touchstart", startDrag, { passive: false });
    canvas.addEventListener("touchmove",  drag,      { passive: false });
    canvas.addEventListener("touchend",   endDrag);
  </script>

</body>
</html>
